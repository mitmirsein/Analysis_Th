## Analysis_Th 워크플로우 — 프롬프트 요리책 v1.1

*(Last updated: 2025-07-02 · 반영 사항: Project v1.1 동기화, `config.yaml` 연동, 대화형 UI 중심 시나리오 강화)*

---

**Cookbook 개요:**
이 문서는 `run_analysis_workflow.py` 스크립트가 아닌, **웹 UI 대화창**에서 Analysis_Th 워크플로우를 수동으로 진행하고 싶을 때 사용하는 "보조 프롬프트 모음집"입니다.
기본 설정은 `config.yaml`에서 가져오며, 이 요리책의 프롬프트들은 분석 세션 중에 실시간으로 설정을 조정하거나 특정 작업을 요청할 때 사용됩니다.

---

### 1. 세션 시작 및 진단 `[#diagnostic]`

**1.1 설정 확인**
***목적:*** AI가 `config.yaml`의 기본 설정을 올바르게 인식했는지 초기 검증을 수행합니다.

```plaintext
현재 세션에 적용된 `config.yaml`의 주요 설정값(model_name, approval_mode, weighting_scheme 등)을 확인하고, 표 형식으로 요약해 주세요.
```

### 2. 런타임 분석 조정 `[#tuning]`

**2.1 가중치 실시간 변경**
***목적:*** `config.yaml`을 수정하지 않고 현재 세션에서만 실험적인 가중치 조정을 수행합니다.

```plaintext
Phase 2.5의 수렴도 등급이 '미흡'으로 나왔습니다. 개념 간의 관계를 더 중요하게 보기 위해, `weighting_scheme.network_centrality=0.6` 및 `weighting_scheme.frequency=0.2`로 설정해서 Phase 2.5를 다시 실행해 주세요.
```

**2.2 품질 게이트 강제 통과**
***목적:*** 분석의 신뢰도가 낮더라도, 예비 연구 등의 목적으로 다음 단계를 강제로 진행합니다.

```plaintext
`config.yaml`의 `override_gate` 설정을 무시하고, 이번만 `override_gate=true`로 간주하여 Phase 3을 즉시 진행하십시오. 사유: 예비 연구 단계라 낮은 수렴도도 참고하고자 합니다.
```

### 3. 결과물 활용 및 내보내기 `[#export]`

**3.1 발표용 요약 추출**
***목적:*** 전체 분석 결과를 바탕으로 특정 대상(예: 목회자, 학자)을 위한 요약본을 생성합니다.

```plaintext
지금까지의 모든 분석 결과를 종합하여, 목회자들이 설교 준비에 활용할 수 있도록 500자 내외의 실천적인 요약문을 작성해 주세요.
```

**3.2 데이터셋 추출**
***목적:*** 추가적인 통계 분석을 위해 정량 데이터를 특정 형식으로 추출합니다.

```plaintext
Phase 1에서 분석된 모든 정량적 핵심 개념과 그 중요도 점수를 CSV 형식으로 출력해 주세요. 컬럼은 'term', 'score'로 구성합니다.
```

---

### 4. 대화형 UI 퀵 스타트 시나리오

1. **세션 준비**: 웹 UI에 `main_prompt.md`, `action.md`, `config.yaml`, 분석할 원본 파일을 첨부합니다.
2. **초기화 및 Phase 0 실행**: `initialization_prompt.md`의 내용을 붙여넣어 세션을 시작합니다.
3. **Phase 0 결과 검토**: AI가 생성한 '텍스트 프로필'과 '추천 방법론'을 확인합니다.
4. **단계별 진행**: "Phase 1 분석을 시작해 주세요." 와 같이 간단한 자연어 명령으로 다음 단계를 요청합니다.
5. **Phase 2.5 (품질 게이트) 검토 및 조정**: 수렴도 등급을 확인합니다. 결과가 만족스럽지 않으면 `[#tuning]` 프롬프트(예: 가중치 변경)를 사용해 파라미터를 조정한 뒤, "조정된 설정으로 Phase 2.5를 다시 실행해 주세요." 라고 요청합니다.
6. **분석 완료 및 결과물 활용**: 모든 Phase가 완료되면, `[#export]` 프롬프트를 사용해 발표용 요약본이나 데이터를 추출합니다.
