# 'Analysis_Th' 프로젝트 자동화 실행 가이드

안녕하세요! `Analysis_Th` 프로젝트에 오신 것을 환영합니다. 이 문서는 `run_analysis_workflow.py` 스크립트를 사용한 자동 분석 방법을 단계별로 안내합니다.

---

## 1. 실행 환경 구축: 파이썬 설정하기

프로젝트를 실행하기 전에, 여러분의 컴퓨터에 독립된 '작업 공간'을 만드는 것이 좋습니다.

### **왜 '가상 환경'이 필요한가요?**

컴퓨터를 '하나의 큰 도서관'이라고 상상해 보세요. 여러 프로젝트를 진행하는 것은 여러 주제의 책을 동시에 읽는 것과 같습니다. 가상 환경은 'Analysis_Th' 프로젝트만을 위한 '개인 서재'를 만드는 것과 같습니다. 이 서재에는 이 프로젝트에 필요한 도구(라이브러리)들만 설치하여, 다른 프로젝트와 충돌하는 것을 막아줍니다.

### **준비 과정: 단계별 따라하기**

터미널(macOS) 또는 명령 프롬프트(Windows)를 열고 다음 단계를 순서대로 따라오세요.

#### **1단계: 프로젝트를 위한 독립된 공간 만들기 (가상 환경 생성)**

```bash
# Analysis_Th 프로젝트 폴더 안에서 실행합니다.
python -m venv .venv
```

#### **2단계: 만들어진 공간에 들어가기 (가상 환경 활성화)**

운영체제에 맞는 명령어를 입력하여 '개인 서재'의 문을 열고 안으로 들어갑니다.

* **macOS / Linux:**

    ```bash
    source .venv/bin/activate
    ```

* **Windows:**

    ```bash
    .venv\Scripts\activate
    ```

명령을 실행하면, 터미널 프롬프트 맨 앞에 `(.venv)` 표시가 나타납니다. 이제 'Analysis_Th' 전용 공간에 들어왔다는 신호입니다.

#### **3단계: 필수 도구 설치하기 (라이브러리 설치)**

`requirements.txt` 파일에 명시된 모든 필수 도구(라이브러리)들을 한 번에 설치합니다.

```bash
pip install -r requirements.txt
```

#### **4단계: AI 서비스 이용 '열쇠' 등록하기 (API 키 설정)**

이 프로젝트는 구글의 AI 서비스를 이용하므로, 사용자를 증명하는 'API 키'가 필요합니다. 발급받은 키를 등록해 주세요. 이 키는 **절대 외부에 노출되면 안 되는 비밀 정보**입니다.

* **macOS / Linux:**

    ```bash
    export GOOGLE_API_KEY="YOUR_KEY_HERE"
    ```

* **Windows:**

    ```bash
    set GOOGLE_API_KEY="YOUR_KEY_HERE"
    ```

`"YOUR_KEY_HERE"` 부분에 실제 API 키를 붙여넣고 실행하세요.

---

## 2. 자동화 워크플로우 실행하기

환경 구축이 완료되었다면, 이제 자동화 스크립트를 통해 분석을 시작할 수 있습니다.

### **자동화 실행 3단계**

1. **분석할 원문 준비:** 분석하고 싶은 텍스트 파일(예: `my_text.txt`)을 `sources/` 폴더에 넣습니다.

2. **(선택) '컨트롤 패널' 설정:** `config.yaml` 파일을 열어 분석 방식을 미세 조정합니다. 예를 들어, 특정 단계에서 사용자 확인을 받고 싶다면 `approval_mode` 설정을 바꿀 수 있습니다.

3. **스크립트 실행:** 터미널에 다음 명령어를 입력하여 전체 분석을 시작합니다.

    ```bash
    python run_analysis_workflow.py my_text.txt
    ```

분석이 시작되면, 스크립트는 정해진 단계(Phase)에 따라 자동으로 분석을 수행하고, 최종 결과물을 `results/` 폴더에 생성합니다.

---

## 3. 핵심 개념 이해하기

이 자동화 시스템을 잘 활용하려면 다음 세 가지 핵심 개념을 이해하는 것이 좋습니다.

1. **적응형 분석 (Adaptive Analysis):**
    이 프로젝트의 AI는 단순히 주어진 명령만 따르는 것이 아니라, **Phase 0** 단계에서 텍스트의 장르와 복잡도를 '스스로 진단'합니다. 그리고 그 진단 결과에 따라 후속 분석 단계의 깊이와 초점을 자동으로 조절하여 텍스트에 최적화된 맞춤형 보고서를 생성합니다.

2. **중앙 컨트롤 패널 (`config.yaml`):**
    `config.yaml` 파일은 프로젝트의 모든 동작 규칙(사용할 AI 모델, 분석 가중치, 사용자 승인 여부 등)을 정하는 **중앙 제어판**입니다. 사용자는 이 파일 하나만 수정하여 전체 워크플로우를 자신의 연구 목적에 맞게 정밀하게 제어할 수 있습니다.

3. **품질 게이트 (Quality Gate):**
    **Phase 2.5**는 AI가 수행한 분석의 신뢰도를 스스로 점검하는 '품질 게이트' 역할을 합니다. 만약 AI의 해석(정성 분석)이 객관적인 데이터(정량 분석)와 크게 다르다고 판단되면, 워크플로우는 자동으로 멈추어 사용자의 확인을 요청합니다. 이는 분석 결과의 신뢰도를 보장하는 핵심적인 안전장치입니다.
